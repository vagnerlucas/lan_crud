"use strict";!function(){function e(e,t,n,r){var i={restrict:"E",scope:{userName:"@userName"},templateUrl:"/src/directives/templates/menuOptions.html",link:function(i,s,o){i.exitAndDestroy=function(s){var o="Are you sure?",u="This is going to quit and destroy all",c="Go ahead";n.openConfirmDialog(s,o,u,c).then(function(s){s&&t.clearData().then(function(e){return Promise.resolve(!0)},function(e){return Promise.reject(!1)}).then(function(){var t="Database erased",s="Done";e.existUser=!1,i.userName=null,n.showMessage(s,t).then(function(){r.go("login")})})})};var u=function(){return t.getById("User",1).then(function(e){return Promise.resolve(e[0])},function(e){throw e})};e.$watch("existUser",function(){i.existUser=e.existUser,i.userName=o.userName,i.existUser&&u().then(function(e){i.userName=e.name},function(e){throw e})})}};return i}e.$inject=["$rootScope","DBService","dialogService","$state"],require(["app"],function(t){t.directive("menuOptions",e)}),define(["app","services/dbService","services/dialogService"],function(){return e})}();