"use strict";!function(){function e(e,t,o){var n=this,r=n;r.categoryModel={},r.cancel=function(){o.cancel()},r.categoryDlgOpt={title:"Add Category",ok:"Save",cancel:"Cancel",dlgOpts:{controllerAs:"categoryCtrl",controller:function(){return r},templateUrl:"/src/views/include/categoryFormView.html",parent:angular.element(document.body),clickOutsideToClose:!1}},r.process=function(e){angular.forEach(e,function(e,t){var o=new FileReader;o.onload=function(e){var t=e.target.result;r.categoryModel.picture=t},o.readAsDataURL(e.file)})},r.addCategory=function(e){t.add("Category",e).then(function(e){var t="Category saved!",n="Done";r.categoryModel={},o.showMessage(n,t).then(function(){})},function(e){var t="Error while adding category.\nCheck if the name is not a duplicated one",n="Error";o.showMessage(n,t).then(function(){})})},n.createCategory=function(){o.showCustomDialog(n.categoryDlgOpt).then(function(e){n.getCategoryList()},function(){n.getCategoryList()})},n.editCategory=function(e){},n.getCategoryList=function(){return t.list("Category").then(function(t){return n.categoryList=t,e.$apply(),t})},n.$onInit=function(){return n.getCategoryList()}}e.$inject=["$scope","DBService","dialogService"],require(["app"],function(t){t.controller("HomeCategoriesController",e)}),define(["app","services/dbService","services/dialogService","components/categoryComponent"],function(){return e})}();