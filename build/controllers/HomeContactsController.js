"use strict";!function(){function t(t,n,e){var c=this,o=c;o.contactModel={},o.cancel=function(){e.cancel()},o.contactDlgOpt={title:"Add Contact",ok:"Save",cancel:"Cancel",dlgOpts:{controllerAs:"contactCtrl",controller:function(){return o},templateUrl:"/src/views/include/contactFormView.html",parent:angular.element(document.body),clickOutsideToClose:!1}},o.process=function(t){angular.forEach(t,function(t,n){var e=new FileReader;e.onload=function(t){var n=t.target.result;o.contactModel.picture=n},e.readAsDataURL(t.file)})},o.addContact=function(t){t.starred=t.starred||!1,n.add("Contact",t).then(function(t){var n="Contact saved!",c="Done";o.contactModel={},e.showMessage(c,n).then(function(){})},function(t){var n="Error while adding contact.\nCheck if the email is not a duplicated one",c="Error";e.showMessage(c,n).then(function(){})})},c.createContact=function(){e.showCustomDialog(c.contactDlgOpt).then(function(t){c.getContactList()},function(){c.getContactList()})},c.editContact=function(t){},c.getContactList=function(){return n.list("Contact").then(function(n){return c.contactList=n,t.$apply(),n})},c.$onInit=function(){return c.getContactList()}}t.$inject=["$scope","DBService","dialogService"],require(["app"],function(n){n.controller("HomeContactsController",t)}),define(["app","services/dbService","services/dialogService","components/contactComponent"],function(){return t})}();